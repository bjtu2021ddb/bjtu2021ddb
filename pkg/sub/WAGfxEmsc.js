"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var __realWebAssembly=(void 0!==window.WebAssembly?window:window.__global).WebAssembly;window.DEVTOOL_WASM_MODULE_FACTORY=function(){function r(){function a(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var n,t;!function(e,r){for(var n in r)e[n]=r[n]}(e,(t={},a.m=n=[function(e,r,n){n(1)},function(e,r,n){var t,a="undefined"!=typeof wx,u=!1,p=null,l=null;a&&("devtools"!=(t=wx.getSystemInfoSync()).platform&&"windows"!=t.platform||(u=!0)),(u||!a&&"undefined"!=typeof document&&document.body)&&(p=window.DEVTOOL_WASM_MODULE,n(2).init(),l=n(2).getImageData),function(m){function s(e,r){this.id=e,this.destroy=r}m.some=function(e,r){return null!=e?e:r},m.some3=function(e,r,n){return null!=e?e:null!=r?r:n},s.prototype.toJSON=function(){return this.id},s.prototype.destroy=function(){this.destroy&&this.destroy(this.id)};var e=function(){function c(e,r){_classCallCheck(this,c),p.canvas=e;var n=m.some(r.bufferPoolSize,1024),t=m.some(r.shaderPoolSize,512),a=m.some(r.imagePoolSize,1024),u=m.some(r.pipelinePoolSize,1024),i=m.some(r.passPoolSize,1024),n=m.some(r.bufferPoolSize,1024),t=m.some(r.shaderPoolSize,512),a=m.some(r.imagePoolSize,1024),u=m.some(r.pipelinePoolSize,1024),i=m.some(r.passPoolSize,1024),o=p.cwrap("setupGfx",null,["number","number","number","number","number","number","number","number","number","number"]),f=0;r.antialias&&(f|=2),r.alpha&&(f|=4),r.stencil&&(f|=8);var s=!1;r.ignore_assert&&(s=!0);var l=!1;r.disable_log&&(l=!0);r=p.canvas.id;p.canvas.id="#canvas",o(e.width,e.height,n,t,a,u,i,s,l,f),p.canvas.id=r,this.createNativeBufferImpl=p.cwrap("createNativeBuffer","number",["number","number"]),this.deleteNativeBufferImpl=p.cwrap("deleteNativeBuffer",null,["number"]),this.queryFeatureImpl=p.cwrap("queryFeature","bool",["number"]),this.makePassImpl=p.cwrap("makePass","number",["string"]),this.makeBufferImpl=p.cwrap("makeBuffer","number",["string"]),this.updateBufferImpl=p.cwrap("updateBuffer",null,["number","number","number","number","number"]),this.makeImageImpl=p.cwrap("makeImage","number",["string"]),this.updateImageImpl=p.cwrap("updateImage",null,["number","string"]),this.makeShaderImpl=p.cwrap("makeShader","number",["string"]),this.makePipelineImpl=p.cwrap("makePipeline","number",["string"]),this.beginPassImpl=p.cwrap("beginPass",null,["number","string"]),this.beginDefaultPassImpl=p.cwrap("beginDefaultPass",null,["string","number","number"]),this.applyPipelineImpl=p.cwrap("applyPipeline",null,["number"]),this.applyBindingsImpl=p.cwrap("applyBindings",null,["string"]),this.applyUniformsImpl=p.cwrap("applyUniforms",null,["number","number","number"]),this.applyViewportImpl=p.cwrap("applyViewport",null,["number","number","number","number","bool"]),this.applyScissorRectImpl=p.cwrap("applyScissorRect",null,["number","number","number","number","bool"]),this.drawImpl=p.cwrap("draw",null,["number","number","number"]),this.endPassImpl=p.cwrap("endPass",null,[]),this.commitImpl=p.cwrap("commit",null,[]),this.readPixelsImpl=p.cwrap("readPixels","number",["number","number","number","number","number","number"]),this.getBufferStringImpl=p.cwrap("getBufferString","string",["number"]),this.destroyPassImpl=p.cwrap("destroyPass",null,["number"]),this.destroyBufferImpl=p.cwrap("destroyBuffer",null,["number"]),this.destroyImageImpl=p.cwrap("destroyImage",null,["number"]),this.destroyShaderImpl=p.cwrap("destroyShader",null,["number"]),this.destroyPipelineImpl=p.cwrap("destroyPipeline",null,["number"]),this.queryPassStateImpl=p.cwrap("queryPassState","number",["number"]),this.queryBufferStateImpl=p.cwrap("queryBufferState","number",["number"]),this.queryImageStateImpl=p.cwrap("queryImageState","number",["number"]),this.queryShaderStateImpl=p.cwrap("queryShaderState","number",["number"]),this.queryPipelineStateImpl=p.cwrap("queryPipelineState","number",["number"]),m.setGfxConsts(this)}return _createClass(c,[{key:"_convertBuffer",value:function(e){var r=p._malloc(e.byteLength),n=Object.prototype.toString.call(e);return"[object Float32Array]"==n?p.HEAPF32.set(e,r>>2):"[object Int8Array]"==n?p.HEAP8.set(e,r):"[object Int16Array]"==n?p.HEAP16.set(e,r>>1):"[object Int32Array]"==n?p.HEAP32.set(e,r>>2):"[object Uint8Array]"==n||"[object Uint8ClampedArray]"==n?p.HEAPU8.set(e,r):"[object Uint16Array]"==n?p.HEAPU16.set(e,r>>1):"[object Uint32Array]"==n?p.HEAPU32.set(e,r>>2):"[object Float64Array]"==n?p.HEAPF64.set(e,r>>4):console.log("data invalid!"),r}},{key:"queryFeature",value:function(e){return this.queryFeatureImpl(e)}},{key:"makePass",value:function(e){return new s(this.makePassImpl(JSON.stringify(e)),this.destroyPassImpl)}},{key:"makeBuffer",value:function(e){var r,n,t=0,a=!1;null!=e.content&&(ArrayBuffer.isView(e.content)?(r=this._convertBuffer(e.content),t=this.createNativeBufferImpl(r,e.content.byteLength),null==e.size&&(e.size=e.content.byteLength),n=e.content,e.content=t,a=!0):(this.deleteNativeBufferImpl(e.content.id),p._free(e.content.buffer),r=this._convertBuffer(new Uint8Array(e.content.data)),t=this.createNativeBufferImpl(r,e.content.data.byteLength),null==e.size&&(e.size=e.content.data.byteLength),e.content.id=t,e.content.buffer=r,n=e.content,e.content=t));var u=this.makeBufferImpl(JSON.stringify(e));return a&&(0<t&&this.deleteNativeBufferImpl(t),e.oldContent&&(e.content=n,p._free(r))),new s(u,this.destroyBufferImpl)}},{key:"updateBuffer",value:function(e,r,n,t,a){var u=e.id,i=-1,o=!1;a=ArrayBuffer.isView(n)?(e=this._convertBuffer(n),i=this.createNativeBufferImpl(e,n.byteLength),o=!0,t=t||0,a||n.byteLength-t):(this.deleteNativeBufferImpl(n.id),p._free(n.buffer),e=this._convertBuffer(new Uint8Array(n.data)),i=this.createNativeBufferImpl(e,n.data.byteLength),n.id=i,n.buffer=e,t=t||0,a||n.data.byteLength-t),this.updateBufferImpl(u,"undefined"===r?0:r,i,t,a),o&&(0<i&&this.deleteNativeBufferImpl(i),p._free(e))}},{key:"makeShader",value:function(e){return new s(this.makeShaderImpl(JSON.stringify(e)),this.destroyShaderImpl)}},{key:"makeImage",value:function(e){var r=[];if(null!=e.content&&null!=e.content.subimage)for(var n=0;n<this.CUBEFACE_NUM;n++)if(r[n]=[],null!=e.content.subimage[n])for(var t,a,u,i,o=0;o<this.MAX_MIPMAPS;o++)null!=e.content.subimage[n][o]&&(a=e.content.subimage[n][o],ArrayBuffer.isView(a)?(u=this._convertBuffer(a),i=this.createNativeBufferImpl(u,a.byteLength),r[n][o]={buffer:u,bufferId:i,oldSubImage:a},e.content.subimage[n][o]={buffer_id:i}):a.buffer?(this.deleteNativeBufferImpl(a.id),p._free(a.buffer),u=this._convertBuffer(new Uint8Array(a.data)),i=this.createNativeBufferImpl(u,a.data.byteLength),a.id=i,a.buffer=u,r[n][o]={buffer:null,bufferId:0,oldSubImage:a},e.content.subimage[n][o]={buffer_id:i}):(t=e.content.subimage[n][o],a=l(t),u=this._convertBuffer(a),i=this.createNativeBufferImpl(u,a.byteLength),r[n][o]={buffer:u,bufferId:i,oldSubImage:e.content.subimage[n][o]},e.content.subimage[n][o]={buffer_id:i},e.width=t.width,e.height=t.height));for(var f=this.makeImageImpl(JSON.stringify(e)),n=0;n<this.CUBEFACE_NUM;n++)if(null!=r[n])for(o=0;o<this.MAX_MIPMAPS;o++)null!=r[n][o]&&(0<r[n][o].bufferId&&(this.deleteNativeBufferImpl(r[n][o].bufferId),p._free(r[n][o].buffer)),e.content.subimage[n][o]=r[n][o].oldSubImage);return new s(f,this.destroyImageImpl)}},{key:"updateImage",value:function(e,r){var e=e.id,n=[];if(null!=r.content&&null!=r.content.subimage)for(var t=0;t<this.CUBEFACE_NUM;t++)if(n[t]=[],null!=r.content.subimage[t])for(var a,u,i,o,f=0;f<this.MAX_MIPMAPS;f++)null!=r.content.subimage[t][f]&&(u=r.content.subimage[t][f],ArrayBuffer.isView(u)?(i=this._convertBuffer(u),o=this.createNativeBufferImpl(i,u.byteLength),n[t][f]={buffer:i,bufferId:o,oldSubImage:u},r.content.subimage[t][f]={buffer_id:o}):u.buffer?(this.deleteNativeBufferImpl(u.id),p._free(u.buffer),i=this._convertBuffer(new Uint8Array(u.data)),o=this.createNativeBufferImpl(i,u.data.byteLength),u.id=o,u.buffer=i,n[t][f]={buffer:null,bufferId:0,oldSubImage:u},r.content.subimage[t][f]={buffer_id:o}):(a=r.content.subimage[t][f],u=l(a),i=this._convertBuffer(u),o=this.createNativeBufferImpl(i,u.byteLength),n[t][f]={buffer:i,bufferId:o,oldSubImage:r.content.subimage[t][f]},r.content.subimage[t][f]={buffer_id:o},r.width=a.width,r.height=a.height));this.updateImageImpl(e,JSON.stringify(r));for(t=0;t<this.CUBEFACE_NUM;t++)if(null!=n[t])for(f=0;f<this.MAX_MIPMAPS;f++)null!=n[t][f]&&(0<n[t][f].bufferId&&(this.deleteNativeBufferImpl(n[t][f].bufferId),p._free(n[t][f].buffer)),r.content.subimage[t][f]=n[t][f].oldSubImage)}},{key:"makePipeline",value:function(e){return new s(this.makePipelineImpl(JSON.stringify(e)),this.destroyPipelineImpl)}},{key:"makePassAction",value:function(e){return JSON.stringify(e)}},{key:"beginPass",value:function(e,r){this.beginPassImpl(e.id,r)}},{key:"beginDefaultPass",value:function(e,r,n){this.beginDefaultPassImpl(e,r,n)}},{key:"applyPipeline",value:function(e){this.applyPipelineImpl(e.id)}},{key:"applyViewport",value:function(e,r,n,t,a){this.applyViewportImpl(e,r,n,t,a)}},{key:"applyScissorRect",value:function(e,r,n,t,a){this.applyScissorRectImpl(e,r,n,t,a)}},{key:"makeBindings",value:function(e){return JSON.stringify(e)}},{key:"applyBindings",value:function(e){this.applyBindingsImpl(e)}},{key:"applyUniforms",value:function(e,r,n){var t,a;ArrayBuffer.isView(n)?(t=this._convertBuffer(n),a=this.createNativeBufferImpl(t,n.byteLength),this.applyUniformsImpl(e,r,a),p._free(t),this.deleteNativeBufferImpl(a)):(this.deleteNativeBufferImpl(n.id),p._free(n.buffer),t=this._convertBuffer(new Uint8Array(n.data)),a=this.createNativeBufferImpl(t,n.data.byteLength),this.applyUniformsImpl(e,r,a),n.id=a,n.buffer=t)}},{key:"draw",value:function(e,r,n){this.drawImpl(e,r,n)}},{key:"endPass",value:function(){this.endPassImpl()}},{key:"commit",value:function(){this.commitImpl()}},{key:"getPixels",value:function(e,r,n,t,a,u){var u=this.readPixelsImpl(e,r,n,t,a,u),i=this.getBufferStringImpl(u);return this.deleteNativeBufferImpl(u),function(){for(var e=window.atob(i),r=e.length,n=new Uint8Array(r),t=0;t<r;t++)n[t]=e.charCodeAt(t);return n.buffer}()}},{key:"createNativeBuffer",value:function(e){"number"==typeof e&&(e=new ArrayBuffer(e));var r=this._convertBuffer(new Uint8Array(e));return{id:this.createNativeBufferImpl(r,e.byteLength),data:e,buffer:r}}},{key:"queryPassState",value:function(e){return this.queryPassStateImpl(e.id)}},{key:"queryBufferState",value:function(e){return this.queryBufferStateImpl(e.id)}},{key:"queryImageState",value:function(e){return this.queryImageStateImpl(e.id)}},{key:"queryShaderState",value:function(e){return this.queryShaderStateImpl(e.id)}},{key:"queryPipelineState",value:function(e){return this.queryPipelineStateImpl(e.id)}}]),c}();m.Gfx=e,"undefined"!=typeof NativeGlobal&&(NativeGlobal.Gfx=e);var n=(e="undefined"!=typeof HTMLCanvasElement?HTMLCanvasElement.prototype:Object.getPrototypeOf(wx.createOffScreenCanvas())).getContext;e.getContext=function(e,r){return"wgfx"==e||"gfx-metal"==e?new m.Gfx(this,r||{}):n.call(this,e,r||{})},m.setGfxConsts=function(e){e.FEATURE_INSTANCING=0,e.FEATURE_TEXTURE_COMPRESSION_DXT=1,e.FEATURE_TEXTURE_COMPRESSION_PVRTC=2,e.FEATURE_TEXTURE_COMPRESSION_ATC=3,e.FEATURE_TEXTURE_COMPRESSION_ETC2=4,e.FEATURE_TEXTURE_FLOAT=5,e.FEATURE_TEXTURE_HALF_FLOAT=6,e.FEATURE_ORIGIN_BOTTOM_LEFT=7,e.FEATURE_ORIGIN_TOP_LEFT=8,e.FEATURE_MSAA_RENDER_TARGETS=9,e.FEATURE_PACKED_VERTEX_FORMAT_10_2=10,e.FEATURE_MULTIPLE_RENDER_TARGET=11,e.FEATURE_IMAGETYPE_3D=12,e.FEATURE_IMAGETYPE_ARRAY=13,e.FEATURE_TEXTURE_COMPRESSION_ETC1=14,e.SG_FEATURE_TEXTURE_COMPRESSION_ASTC_8x8=15,e.NUM_FEATURES=16,e.RESOURCESTATE_INITIAL=0,e.RESOURCESTATE_ALLOC=1,e.RESOURCESTATE_VALID=2,e.RESOURCESTATE_FAILED=3,e.RESOURCESTATE_INVALID=4,e.USAGE_IMMUTABLE=1,e.USAGE_DYNAMIC=2,e.USAGE_STREAM=3,e.BUFFERTYPE_VERTEXBUFFER=1,e.BUFFERTYPE_INDEXBUFFER=2,e.INDEXTYPE_NONE=1,e.INDEXTYPE_UINT16=2,e.INDEXTYPE_UINT32=3,e.IMAGETYPE_2D=1,e.IMAGETYPE_CUBE=2,e.IMAGETYPE_3D=3,e.IMAGETYPE_ARRAY=4,e.CUBEFACE_POS_X=0,e.CUBEFACE_NEG_X=1,e.CUBEFACE_POS_Y=2,e.CUBEFACE_NEG_Y=3,e.CUBEFACE_POS_Z=4,e.CUBEFACE_NEG_Z=5,e.CUBEFACE_NUM=6,e.SHADERSTAGE_VS=0,e.SHADERSTAGE_FS=1,e.PIXELFORMAT_NONE=1,e.PIXELFORMAT_RGBA8=2,e.PIXELFORMAT_RGB8=3,e.PIXELFORMAT_RGBA4=4,e.PIXELFORMAT_R5G6B5=5,e.PIXELFORMAT_R5G5B5A1=6,e.PIXELFORMAT_R10G10B10A2=7,e.PIXELFORMAT_RGBA32F=8,e.PIXELFORMAT_RGBA16F=9,e.PIXELFORMAT_R32F=10,e.PIXELFORMAT_R16F=11,e.PIXELFORMAT_L8=12,e.PIXELFORMAT_DXT1=13,e.PIXELFORMAT_DXT3=14,e.PIXELFORMAT_DXT5=15,e.PIXELFORMAT_DEPTH=16,e.PIXELFORMAT_DEPTHSTENCIL=17,e.PIXELFORMAT_PVRTC2_RGB=18,e.PIXELFORMAT_PVRTC4_RGB=19,e.PIXELFORMAT_PVRTC2_RGBA=20,e.PIXELFORMAT_PVRTC4_RGBA=21,e.PIXELFORMAT_ETC2_RGB8=22,e.PIXELFORMAT_ETC2_SRGB8=23,e.PIXELFORMAT_ETC1_RGB8=24,e.PIXELFORMAT_PVR_CCZ=25,e.PIXELFORMAT_PVR_GZ=26,e.PRIMITIVETYPE_POINTS=1,e.PRIMITIVETYPE_LINES=2,e.PRIMITIVETYPE_LINE_STRIP=3,e.PRIMITIVETYPE_TRIANGLES=4,e.PRIMITIVETYPE_TRIANGLE_STRIP=5,e.FILTER_NEAREST=1,e.FILTER_LINEAR=2,e.FILTER_NEAREST_MIPMAP_NEAREST=3,e.FILTER_NEAREST_MIPMAP_LINEAR=4,e.FILTER_LINEAR_MIPMAP_NEAREST=5,e.FILTER_LINEAR_MIPMAP_LINEAR=6,e.WRAP_REPEAT=1,e.WRAP_CLAMP_TO_EDGE=2,e.WRAP_MIRRORED_REPEAT=3,e.VERTEXFORMAT_INVALID=0,e.VERTEXFORMAT_FLOAT=1,e.VERTEXFORMAT_FLOAT2=2,e.VERTEXFORMAT_FLOAT3=3,e.VERTEXFORMAT_FLOAT4=4,e.VERTEXFORMAT_BYTE4=5,e.VERTEXFORMAT_BYTE4N=6,e.VERTEXFORMAT_UBYTE4=7,e.VERTEXFORMAT_UBYTE4N=8,e.VERTEXFORMAT_SHORT2=9,e.VERTEXFORMAT_SHORT2N=10,e.VERTEXFORMAT_SHORT4=11,e.VERTEXFORMAT_SHORT4N=12,e.VERTEXFORMAT_UINT10_N2=13,e.VERTEXSTEP_PER_VERTEX=1,e.VERTEXSTEP_PER_INSTANCE=2,e.UNIFORMTYPE_INVALID=0,e.UNIFORMTYPE_FLOAT=1,e.UNIFORMTYPE_FLOAT2=2,e.UNIFORMTYPE_FLOAT3=3,e.UNIFORMTYPE_FLOAT4=4,e.UNIFORMTYPE_MAT4=5,e.CULLMODE_NONE=1,e.CULLMODE_FRONT=2,e.CULLMODE_BACK=3,e.FACEWINDING_CCW=1,e.FACEWINDING_CW=2,e.COMPAREFUNC_NEVER=1,e.COMPAREFUNC_LESS=2,e.COMPAREFUNC_EQUAL=3,e.COMPAREFUNC_LESS_EQUAL=4,e.COMPAREFUNC_GREATER=5,e.COMPAREFUNC_NOT_EQUAL=6,e.COMPAREFUNC_GREATER_EQUAL=7,e.COMPAREFUNC_ALWAYS=8,e.STENCILOP_KEEP=1,e.STENCILOP_ZERO=2,e.STENCILOP_REPLACE=3,e.STENCILOP_INCR_CLAMP=4,e.STENCILOP_DECR_CLAMP=5,e.STENCILOP_INVERT=6,e.STENCILOP_INCR_WRAP=7,e.STENCILOP_DECR_WRAP=8,e.BLENDFACTOR_ZERO=1,e.BLENDFACTOR_ONE=2,e.BLENDFACTOR_SRC_COLOR=3,e.BLENDFACTOR_ONE_MINUS_SRC_COLOR=4,e.BLENDFACTOR_SRC_ALPHA=5,e.BLENDFACTOR_ONE_MINUS_SRC_ALPHA=6,e.BLENDFACTOR_DST_COLOR=7,e.BLENDFACTOR_ONE_MINUS_DST_COLOR=8,e.BLENDFACTOR_DST_ALPHA=9,e.BLENDFACTOR_ONE_MINUS_DST_ALPHA=10,e.BLENDFACTOR_SRC_ALPHA_SATURATED=11,e.BLENDFACTOR_BLEND_COLOR=12,e.BLENDFACTOR_ONE_MINUS_BLEND_COLOR=13,e.BLENDFACTOR_BLEND_ALPHA=14,e.BLENDFACTOR_ONE_MINUS_BLEND_ALPHA=15,e.BLENDOP_ADD=1,e.BLENDOP_SUBTRACT=2,e.BLENDOP_REVERSE_SUBTRACT=3,e.COLORMASK_NONE=16,e.COLORMASK_R=1,e.COLORMASK_G=2,e.COLORMASK_B=4,e.COLORMASK_A=8,e.COLORMASK_RGB=7,e.COLORMASK_RGBA=15,e.ACTION_CLEAR=1,e.ACTION_LOAD=2,e.ACTION_DONTCARE=3,e.INVALID_ID=0,e.NUM_SHADER_STAGES=2,e.NUM_INFLIGHT_FRAMES=2,e.MAX_COLOR_ATTACHMENTS=4,e.MAX_SHADERSTAGE_BUFFERS=4,e.MAX_SHADERSTAGE_IMAGES=12,e.MAX_SHADERSTAGE_UBS=4,e.MAX_UB_MEMBERS=16,e.MAX_VERTEX_ATTRIBUTES=16,e.MAX_MIPMAPS=16,e.MAX_TEXTUREARRAY_LAYERS=128,e.UNSIGNED_BYTE=5121,e.FLOAT=5126,e.UNSIGNED_SHORT_5_6_5=33635,e.UNSIGNED_SHORT_4_4_4_4=32819,e.UNSIGNED_SHORT_5_5_5_1=32820}}({})},function(e,r,n){var t,a,u;n.r(r),n.d(r,"init",function(){return o}),n.d(r,"getImageData",function(){return f});var i=!1;function o(){var e;i||(e=null,(e="undefined"!=typeof wx?wx.createOffScreenCanvas?wx.createOffScreenCanvas():wx.createCanvas():(document||__global.document).createElement("canvas")).height=2048,e.width=2048,t=e.getContext("webgl"),a=t.createFramebuffer(),u=t.createTexture(),t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),i=!0)}function f(e){if(i||(i=!0,o()),t.bindTexture(t.TEXTURE_2D,u),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,u,0),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)return new Uint8Array([255,0,0,255,255]);var r=new Uint8Array(e.width*e.height*4);return t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),t.bindFramebuffer(t.FRAMEBUFFER,null),r}}],a.c=t,a.d=function(e,r,n){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(r,e){if(1&e&&(r=a(r)),8&e)return r;if(4&e&&"object"===_typeof(r)&&r&&r.__esModule)return r;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)a.d(n,t,function(e){return r[e]}.bind(null,t));return n},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a(a.s=0)))}var Pe,e=void 0,n=void 0,t=(Pe="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(i){var e,r={};for(e in i=void 0!==(i=i||{})?i:{})i.hasOwnProperty(e)&&(r[e]=i[e]);i.arguments=[],i.thisProgram="./this.program",i.quit=function(e,r){throw r},i.preRun=[];i.postRun=[];var n="";document.currentScript&&(n=document.currentScript.src),n=0!==(n=Pe?Pe:n).indexOf("blob:")?n.substr(0,n.lastIndexOf("/")+1):"",i.read=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},i.readAsync=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)},i.setWindowTitle=function(e){document.title=e};var t=i.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),o=i.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||t);for(e in r)r.hasOwnProperty(e)&&(i[e]=r[e]);var a,r=void 0,u={"f64-rem":function(e,r){return e%r},debugger:function(){}};new Array(0);"object"!==_typeof(__realWebAssembly)&&o("no native wasm support detected");var f=!1;function s(e,r){e||Re("Assertion failed: "+r)}function c(e){var r=i["_"+e];return s(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function l(e,r,n,t,a){var u={string:function(e){var r,n=0;return null!=e&&0!==e&&(r=1+(e.length<<2),_(e,n=Ae(r),r)),n},array:function(e){var r,n=Ae(e.length);return r=e,e=n,A.set(r,e),n}};var e=c(e),i=[],o=0;if(t)for(var f=0;f<t.length;f++){var s=u[n[f]];s?(0===o&&(o=Te()),i[f]=s(t[f])):i[f]=t[f]}var l,e=e.apply(null,i);return l=e,e="string"===r?E(l):"boolean"===r?Boolean(l):l,0!==o&&ve(o),e}var m="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function p(e,r,n){for(var t=r+n,a=r;e[a]&&!(t<=a);)++a;if(16<a-r&&e.subarray&&m)return m.decode(e.subarray(r,a));for(var u="";r<a;){var i,o,f=e[r++];128&f?(i=63&e[r++],192!=(224&f)?(o=63&e[r++],(f=224==(240&f)?(15&f)<<12|i<<6|o:(7&f)<<18|i<<12|o<<6|63&e[r++])<65536?u+=String.fromCharCode(f):(o=f-65536,u+=String.fromCharCode(55296|o>>10,56320|1023&o))):u+=String.fromCharCode((31&f)<<6|i)):u+=String.fromCharCode(f)}return u}function E(e,r){return e?p(v,e,r):""}function d(e,r,n,t){if(!(0<t))return 0;for(var a=n,u=n+t-1,i=0;i<e.length;++i){var o=e.charCodeAt(i);if((o=55296<=o&&o<=57343?65536+((1023&o)<<10)|1023&e.charCodeAt(++i):o)<=127){if(u<=n)break;r[n++]=o}else if(o<=2047){if(u<=n+1)break;r[n++]=192|o>>6,r[n++]=128|63&o}else if(o<=65535){if(u<=n+2)break;r[n++]=224|o>>12,r[n++]=128|o>>6&63,r[n++]=128|63&o}else{if(u<=n+3)break;r[n++]=240|o>>18,r[n++]=128|o>>12&63,r[n++]=128|o>>6&63,r[n++]=128|63&o}}return r[n]=0,n-a}function _(e,r,n){return d(e,v,r,n)}function b(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);(t=55296<=t&&t<=57343?65536+((1023&t)<<10)|1023&e.charCodeAt(++n):t)<=127?++r:r+=t<=2047?2:t<=65535?3:4}return r}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function g(e){var r=b(e)+1,n=Ae(r);return d(e,A,n,r),n}var y,A,v,T,I,h,R,S;function P(e,r){return 0<e%r&&(e+=r-e%r),e}function L(){i.HEAP8=A=new Int8Array(y),i.HEAP16=T=new Int16Array(y),i.HEAP32=h=new Int32Array(y),i.HEAPU8=v=new Uint8Array(y),i.HEAPU16=I=new Uint16Array(y),i.HEAPU32=R=new Uint32Array(y),i.HEAPF32=S=new Float32Array(y),i.HEAPF64=new Float64Array(y)}var O=i.TOTAL_MEMORY||16777216;function B(e){for(;0<e.length;){var r,n=e.shift();"function"!=typeof n?"number"==typeof(r=n.func)?void 0===n.arg?i.dynCall_v(r):i.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg):n()}}O<5242880&&o("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+O+"! (TOTAL_STACK=5242880)"),y=i.buffer||("object"===_typeof(__realWebAssembly)&&"function"==typeof __realWebAssembly.Memory?(a=new __realWebAssembly.Memory({initial:O/65536})).buffer:new ArrayBuffer(O)),L(),h[2960]=5254976;var C=[],x=[],N=[],F=[],w=[],M=!1;function U(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),C.unshift(e);var e;B(C)}function D(){M||(M=!0,B(x))}function k(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),w.unshift(e);var e;B(w)}var G=Math.abs,X=Math.ceil,V=Math.floor,H=Math.min,W=0,q=null,j=null;i.preloadedImages={},i.preloadedAudios={};var Y="data:application/octet-stream;base64,";function z(e){return String.prototype.startsWith?e.startsWith(Y):0===e.indexOf(Y)}var Z,K=window.DEVTOOL_WASM_MODULE_PATH;function J(e){var r={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:u};function n(e,r){e=e.exports;i.asm=e,W--,i.monitorRunDependencies&&i.monitorRunDependencies(W),0==W&&(null!==q&&(clearInterval(q),q=null),j&&(e=j,j=null,e()))}if(W++,i.monitorRunDependencies&&i.monitorRunDependencies(W),i.instantiateWasm)try{return i.instantiateWasm(r,n)}catch(e){return o("Module.instantiateWasm callback failed with error: "+e),!1}function t(e){n(e.instance)}function a(e){("undefined"!=typeof wx?new Promise(function(r,n){-1==K.indexOf("http")?wx.getFileSystemManager().readFile({filePath:K,success:function(e){r(e.data)},fail:function(e){n("failed to load wasm binary file at '"+K+"'")}}):wx.request({url:K,success:function(e){200==e.statusCode?r(e.data):n("failed to load wasm binary file at '"+K+"'")},fail:function(e){n("failed to load wasm binary file at '"+K+"'")},responseType:"arraybuffer"})}):void 0!==__global.fetch?__global.fetch(K).then(function(e){return e.arrayBuffer()}):fetch(K).then(function(e){return e.arrayBuffer()})).then(function(e){return __realWebAssembly.instantiate(e,r)}).then(e,function(e){o("failed to asynchronously prepare wasm: "+e),Re(e)})}return i.wasmBinary||"function"!=typeof __realWebAssembly.instantiateStreaming||z(K)||"function"!=typeof fetch?a(t):__realWebAssembly.instantiateStreaming(fetch(K,{credentials:"same-origin"}),r).then(t,function(e){o("wasm streaming compile failed: "+e),o("falling back to ArrayBuffer instantiation"),a(t)}),{}}function Q(){return!!Q.uncaught_exception}z(K)||(Z=K,K=i.locateFile?i.locateFile(Z,n):n+Z),i.asm=function(e,r,n){return r.memory=a,r.table=new __realWebAssembly.Table({initial:59,maximum:59,element:"anyfunc"}),r.__memory_base=1024,r.__table_base=0,J(r)},x.push({func:function(){be()}});var $={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||$.infos[e])return e;for(var r in $.infos)for(var n=+r,t=$.infos[n].adjusted,a=t.length,u=0;u<a;u++)if(t[u]===e)return n;return e},addRef:function(e){e&&$.infos[e].refcount++},decRef:function(e){var r;e&&(s(0<(r=$.infos[e]).refcount),r.refcount--,0!==r.refcount||r.rethrown||(r.destructor&&i.dynCall_vi(r.destructor,e),delete $.infos[e],function(e){try{ge(e)}catch(e){}}(e)))},clearRef:function(e){e&&($.infos[e].refcount=0)}};var ee={buffers:[null,[],[]],printChar:function(e,r){var n=ee.buffers[e];0===r||10===r?((1===e?t:o)(p(n,0)),n.length=0):n.push(r)},varargs:0,get:function(e){return ee.varargs+=4,h[ee.varargs-4>>2]},getStr:function(){return E(ee.get())},get64:function(){var e=ee.get();ee.get();return e},getZero:function(){ee.get()}};function re(){return A.length}var ne={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,init:function(){ne.miniTempBuffer=new Float32Array(ne.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<ne.MINI_TEMP_BUFFER_SIZE;e++)ne.miniTempBufferViews[e]=ne.miniTempBuffer.subarray(0,e+1)},recordError:function(e){ne.lastError||(ne.lastError=e)},getNewId:function(e){for(var r=ne.counter++,n=e.length;n<r;n++)e[n]=null;return r},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,r,n,t){for(var a="",u=0;u<r;++u){var i=t?h[t+4*u>>2]:-1;a+=E(h[n+4*u>>2],i<0?void 0:i)}return a},createContext:function(e,r){e=1<r.majorVersion?e.getContext("webgl2",r):e.getContext("webgl",r)||e.getContext("experimental-webgl",r);return e&&ne.registerContext(e,r)},registerContext:function(e,r){var n=ye(8),t={handle:n,attributes:r,version:r.majorVersion,GLctx:e};function a(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}return t.supportsWebGL2EntryPoints=2<=t.version&&(!1===a()||58<=a()),e.canvas&&(e.canvas.GLctxObject=t),ne.contexts[n]=t,void 0!==r.enableExtensionsByDefault&&!r.enableExtensionsByDefault||ne.initExtensions(t),n},makeContextCurrent:function(e){return ne.currentContext=ne.contexts[e],i.ctx=Ee=ne.currentContext&&ne.currentContext.GLctx,!(e&&!Ee)},getContext:function(e){return ne.contexts[e]},deleteContext:function(e){ne.currentContext===ne.contexts[e]&&(ne.currentContext=null),"object"===_typeof(te)&&te.removeAllHandlersOnTarget(ne.contexts[e].GLctx.canvas),ne.contexts[e]&&ne.contexts[e].GLctx.canvas&&(ne.contexts[e].GLctx.canvas.GLctxObject=void 0),ge(ne.contexts[e]),ne.contexts[e]=null},initExtensions:function(e){var r,u,n,t,a;(e=e||ne.currentContext).initExtensionsDone||(e.initExtensionsDone=!0,r=e.GLctx,e.version<2&&((u=r.getExtension("ANGLE_instanced_arrays"))&&(r.vertexAttribDivisor=function(e,r){u.vertexAttribDivisorANGLE(e,r)},r.drawArraysInstanced=function(e,r,n,t){u.drawArraysInstancedANGLE(e,r,n,t)},r.drawElementsInstanced=function(e,r,n,t,a){u.drawElementsInstancedANGLE(e,r,n,t,a)}),(n=r.getExtension("OES_vertex_array_object"))&&(r.createVertexArray=function(){return n.createVertexArrayOES()},r.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},r.bindVertexArray=function(e){n.bindVertexArrayOES(e)},r.isVertexArray=function(e){return n.isVertexArrayOES(e)}),(t=r.getExtension("WEBGL_draw_buffers"))&&(r.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),a=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"],(e=r.getSupportedExtensions())&&0<e.length&&r.getSupportedExtensions().forEach(function(e){-1!=a.indexOf(e)&&r.getExtension(e)}))},populateUniformTable:function(e){for(var r=ne.programs[e],n=ne.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},t=n.uniforms,a=Ee.getProgramParameter(r,35718),u=0;u<a;++u){var i=Ee.getActiveUniform(r,u),o=i.name;if(n.maxUniformLength=Math.max(n.maxUniformLength,o.length+1),"]"==o.slice(-1)&&(o=o.slice(0,o.lastIndexOf("["))),l=Ee.getUniformLocation(r,o)){var f=ne.getNewId(ne.uniforms);t[o]=[i.size,f],ne.uniforms[f]=l;for(var s=1;s<i.size;++s){var l=Ee.getUniformLocation(r,o+"["+s+"]"),f=ne.getNewId(ne.uniforms);ne.uniforms[f]=l}}}}},te={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=te.eventHandlers.length-1;0<=e;--e)te._removeHandler(e);te.eventHandlers=[],te.deferredCalls=[]},registerRemoveEventListeners:function(){te.removeEventListenersRegistered||(F.push(te.removeAllEventListeners),te.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,n){for(var t in te.deferredCalls){t=te.deferredCalls[t];if(t.targetFunction==e&&function(e,r){if(e.length==r.length){for(var n in e)if(e[n]!=r[n])return;return 1}}(t.argsList,n))return}te.deferredCalls.push({targetFunction:e,precedence:r,argsList:n}),te.deferredCalls.sort(function(e,r){return e.precedence<r.precedence})},removeDeferredCalls:function(e){for(var r=0;r<te.deferredCalls.length;++r)te.deferredCalls[r].targetFunction==e&&(te.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return te.inEventHandler&&te.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(te.canPerformEventHandlerRequests())for(var e=0;e<te.deferredCalls.length;++e){var r=te.deferredCalls[e];te.deferredCalls.splice(e,1),--e,r.targetFunction.apply(this,r.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],isInternetExplorer:function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")},removeAllHandlersOnTarget:function(e,r){for(var n=0;n<te.eventHandlers.length;++n)te.eventHandlers[n].target!=e||r&&r!=te.eventHandlers[n].eventTypeString||te._removeHandler(n--)},_removeHandler:function(e){var r=te.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),te.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(r){function e(e){++te.inEventHandler,te.currentEventHandler=r,te.runDeferredCalls(),r.handlerFunc(e),te.runDeferredCalls(),--te.inEventHandler}if(r.callbackfunc)r.eventListenerFunc=e,r.target.addEventListener(r.eventTypeString,e,r.useCapture),te.eventHandlers.push(r),te.registerRemoveEventListeners();else for(var n=0;n<te.eventHandlers.length;++n)te.eventHandlers[n].target==r.target&&te.eventHandlers[n].eventTypeString==r.eventTypeString&&te._removeHandler(n--)},getBoundingClientRectOrZeros:function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}},pageScrollPos:function(){return 0<window.pageXOffset||0<window.pageYOffset?[window.pageXOffset,window.pageYOffset]:void 0!==document.documentElement.scrollLeft||void 0!==document.documentElement.scrollTop?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0|document.body.scrollLeft,0|document.body.scrollTop]},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},tick:function(){return(window.performance&&window.performance.now?window.performance:Date).now()},fullscreenEnabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled}},ae=["default","low-power","high-performance"],ue=[0,document,window];function ie(e){return(e="number"==typeof e?E(e):e)&&"#canvas"!==e?void 0!==ne&&ne.offscreenCanvases[e]?ne.offscreenCanvases[e]:function(e){try{return e?"#window"===(e="number"==typeof e?ue[e]||E(e):e)?window:"#document"===e?document:"#screen"===e?screen:"#canvas"===e?i.canvas:"string"==typeof e?document.getElementById(e):e:window}catch(e){return null}}(e):(void 0!==ne&&ne.offscreenCanvases.canvas?ne.offscreenCanvases:i).canvas}var oe=[];function fe(e,r,n,t){for(var a=0;a<e;a++){var u=Ee[n](),i=u&&ne.getNewId(t);u?t[u.name=i]=u:ne.recordError(1282),h[r+4*a>>2]=i}}function se(e){var r=b(e)+1,n=ye(r);return _(e,n,r),n}var le={6402:1,6403:1,6406:1,6407:3,6408:4,6409:1,6410:2,33319:2,33320:2,35904:3,35906:4,36244:1,36248:3,36249:4},ce={5120:1,5121:1,5122:2,5123:2,5124:4,5125:4,5126:4,5131:2,32819:2,32820:2,33635:2,33640:4,34042:4,35899:4,35902:4,36193:2};function me(e,r,n,t,a){var u=le[r]*ce[e];if(u){var i=a+(r=n,n=t,t=u,u=ne.unpackAlignment,n*(r*t+(u=u)-1&-u));switch(e){case 5120:return A.subarray(a,i);case 5121:return v.subarray(a,i);case 5122:return T.subarray(a>>1,i>>1);case 5124:return h.subarray(a>>2,i>>2);case 5126:return S.subarray(a>>2,i>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return R.subarray(a>>2,i>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return I.subarray(a>>1,i>>1);default:ne.recordError(1280)}}else ne.recordError(1280)}function pe(e){switch(e){case 5120:return A;case 5121:return v;case 5122:return T;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return I;case 5124:return h;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return R;case 5126:return S}}var Ee,de={5122:1,5123:1,5124:2,5125:2,5126:2,5131:1,32819:1,32820:1,33635:1,33640:2,34042:2,35899:2,35902:2,36193:1};ne.init();for(var _e=0;_e<32;_e++)oe.push(new Array(_e));O={i:Re,gb:function(e){return ye(e)},Sa:function(e,r,n){throw $.infos[e]={ptr:e,adjusted:[e],type:r,destructor:n,refcount:0,caught:!1,rethrown:!1},$.last=e,"uncaught_exception"in Q?Q.uncaught_exception++:Q.uncaught_exception=1,e},U:function(e){return i.___errno_location&&(h[i.___errno_location()>>2]=e),e},Ja:function(e,r){ee.varargs=r;try{var n=ee.getStreamFromFD(),t=(ee.get(),ee.get()),a=ee.get(),u=ee.get(),i=t;return FS.llseek(n,i,u),h[a>>2]=n.position,n.getdents&&0===i&&0===u&&(n.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}},Q:function(e,r){ee.varargs=r;try{for(var n=ee.get(),t=ee.get(),a=ee.get(),u=0,i=0;i<a;i++){for(var o=h[t+8*i>>2],f=h[t+(8*i+4)>>2],s=0;s<f;s++)ee.printChar(n,v[o+s]);u+=f}return u}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}},za:function(e,r){ee.varargs=r;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}},va:function(e,r){ee.varargs=r;try{var n=ee.getStreamFromFD();return FS.close(n),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}},oa:function(){i.abort()},ia:re,fb:function(e,r,n){v.set(v.subarray(r,r+n),e)},Za:function(e){var r=re(),n=2147418112;if(n<e)return!1;for(var t=Math.max(r,16777216);t<e;)t=t<=536870912?P(2*t,65536):Math.min(P((3*t+2147483648)/4,65536),n);return!(!(r=function(e){e=P(e,65536);var r=y.byteLength;try{return-1!==a.grow((e-r)/65536)?y=a.buffer:null}catch(e){return null}}(t))||r.byteLength!=t)&&(L(),!0)},C:function(e,r){return n=e,e=(t=r)>>2,(r={}).alpha=!!h[e],r.depth=!!h[1+e],r.stencil=!!h[2+e],r.antialias=!!h[3+e],r.premultipliedAlpha=!!h[4+e],r.preserveDrawingBuffer=!!h[5+e],t=h[6+e],r.powerPreference=ae[t],r.failIfMajorPerformanceCaveat=!!h[7+e],r.majorVersion=h[8+e],r.minorVersion=h[9+e],r.enableExtensionsByDefault=h[10+e],r.explicitSwapControl=h[11+e],r.proxyContextToMainThread=h[12+e],r.renderViaOffscreenBackBuffer=h[13+e],!(n=ie(n))||r.explicitSwapControl?0:ne.createContext(n,r);var n,t},Va:function(e){for(var r=e>>2,n=0;n<14;++n)h[r+n]=0;h[r]=h[1+r]=h[3+r]=h[4+r]=h[8+r]=h[10+r]=1},Ua:function(e){return ne.makeContextCurrent(e)?0:-5},e:function(e){Ee.activeTexture(e)},$:function(e,r){Ee.attachShader(ne.programs[e],ne.shaders[r])},h:function(e,r){35051==e?Ee.currentPixelPackBufferBinding=r:35052==e&&(Ee.currentPixelUnpackBufferBinding=r),Ee.bindBuffer(e,ne.buffers[r])},Ta:function(e,r,n){Ee.bindBufferBase(e,r,ne.buffers[n])},f:function(e,r){Ee.bindFramebuffer(e,ne.framebuffers[r])},_:function(e,r){Ee.bindRenderbuffer(e,ne.renderbuffers[r])},d:function(e,r){Ee.bindTexture(e,ne.textures[r])},Z:function(e){Ee.bindVertexArray(ne.vaos[e])},Y:function(e,r,n,t){Ee.blendColor(e,r,n,t)},X:function(e,r){Ee.blendEquationSeparate(e,r)},W:function(e,r,n,t){Ee.blendFuncSeparate(e,r,n,t)},u:function(e,r,n,t,a,u,i,o,f,s){Ee.blitFramebuffer(e,r,n,t,a,u,i,o,f,s)},V:function(e,r,n,t){ne.currentContext.supportsWebGL2EntryPoints?n?Ee.bufferData(e,v,t,n,r):Ee.bufferData(e,r,t):Ee.bufferData(e,n?v.subarray(n,n+r):r,t)},B:function(e,r,n,t){ne.currentContext.supportsWebGL2EntryPoints?Ee.bufferSubData(e,r,v,t,n):Ee.bufferSubData(e,r,v.subarray(t,t+n))},r:function(e){return Ee.checkFramebufferStatus(e)},Ra:function(e){Ee.clear(e)},Qa:function(e,r,n,t){Ee.clearBufferfi(e,r,n,t)},q:function(e,r,n){Ee.clearBufferfv(e,r,S,n>>2)},Pa:function(e,r,n){Ee.clearBufferuiv(e,r,R,n>>2)},Oa:function(e,r,n,t){Ee.clearColor(e,r,n,t)},Na:function(e){Ee.clearDepth(e)},Ma:function(e){Ee.clearStencil(e)},A:function(e,r,n,t){Ee.colorMask(!!e,!!r,!!n,!!t)},La:function(e){Ee.compileShader(ne.shaders[e])},Ka:function(e,r,n,t,a,u,i,o){ne.currentContext.supportsWebGL2EntryPoints?Ee.currentPixelUnpackBufferBinding?Ee.compressedTexImage2D(e,r,n,t,a,u,i,o):Ee.compressedTexImage2D(e,r,n,t,a,u,v,o,i):Ee.compressedTexImage2D(e,r,n,t,a,u,o?v.subarray(o,o+i):null)},Ia:function(e,r,n,t,a,u,i,o,f){ne.currentContext.supportsWebGL2EntryPoints?Ee.currentPixelUnpackBufferBinding?Ee.compressedTexImage3D(e,r,n,t,a,u,i,o,f):Ee.compressedTexImage3D(e,r,n,t,a,u,i,v,f,o):Ee.compressedTexImage3D(e,r,n,t,a,u,i,f?v.subarray(f,f+o):null)},Ha:function(){var e=ne.getNewId(ne.programs),r=Ee.createProgram();return r.name=e,ne.programs[e]=r,e},Ga:function(e){var r=ne.getNewId(ne.shaders);return ne.shaders[r]=Ee.createShader(e),r},T:function(e){Ee.cullFace(e)},Fa:function(e,r){for(var n=0;n<e;n++){var t=h[r+4*n>>2],a=ne.buffers[t];a&&(Ee.deleteBuffer(a),a.name=0,ne.buffers[t]=null,t==ne.currArrayBuffer&&(ne.currArrayBuffer=0),t==ne.currElementArrayBuffer&&(ne.currElementArrayBuffer=0),t==Ee.currentPixelPackBufferBinding&&(Ee.currentPixelPackBufferBinding=0),t==Ee.currentPixelUnpackBufferBinding&&(Ee.currentPixelUnpackBufferBinding=0))}},n:function(e,r){for(var n=0;n<e;++n){var t=h[r+4*n>>2],a=ne.framebuffers[t];a&&(Ee.deleteFramebuffer(a),a.name=0,ne.framebuffers[t]=null)}},S:function(e){var r;e&&((r=ne.programs[e])?(Ee.deleteProgram(r),r.name=0,ne.programs[e]=null,ne.programInfos[e]=null):ne.recordError(1281))},R:function(e,r){for(var n=0;n<e;n++){var t=h[r+4*n>>2],a=ne.renderbuffers[t];a&&(Ee.deleteRenderbuffer(a),a.name=0,ne.renderbuffers[t]=null)}},z:function(e){var r;e&&((r=ne.shaders[e])?(Ee.deleteShader(r),ne.shaders[e]=null):ne.recordError(1281))},Ea:function(e,r){for(var n=0;n<e;n++){var t=h[r+4*n>>2],a=ne.textures[t];a&&(Ee.deleteTexture(a),a.name=0,ne.textures[t]=null)}},y:function(e){Ee.depthFunc(e)},x:function(e){Ee.depthMask(!!e)},g:function(e){Ee.disable(e)},b:function(e){Ee.disableVertexAttribArray(e)},Da:function(e,r,n){Ee.drawArrays(e,r,n)},Ca:function(e,r,n,t){Ee.drawArraysInstanced(e,r,n,t)},p:function(e,r){for(var n=oe[e],t=0;t<e;t++)n[t]=h[r+4*t>>2];Ee.drawBuffers(n)},Ba:function(e,r,n,t){Ee.drawElements(e,r,n,t)},Aa:function(e,r,n,t,a){Ee.drawElementsInstanced(e,r,n,t,a)},l:function(e){Ee.enable(e)},ya:function(e){Ee.enableVertexAttribArray(e)},m:function(e,r,n,t){Ee.framebufferRenderbuffer(e,r,n,ne.renderbuffers[t])},c:function(e,r,n,t,a){Ee.framebufferTexture2D(e,r,n,ne.textures[t],a)},k:function(e,r,n,t,a){Ee.framebufferTextureLayer(e,r,ne.textures[n],t,a)},P:function(e){Ee.frontFace(e)},O:function(e,r){fe(e,r,"createBuffer",ne.buffers)},o:function(e,r){fe(e,r,"createFramebuffer",ne.framebuffers)},N:function(e,r){fe(e,r,"createRenderbuffer",ne.renderbuffers)},xa:function(e,r){fe(e,r,"createTexture",ne.textures)},wa:function(e,r){fe(e,r,"createVertexArray",ne.vaos)},ua:function(e){Ee.generateMipmap(e)},ta:function(e,r){return Ee.getAttribLocation(ne.programs[e],E(r))},M:function(e,r){!function(r,e,n){if(e){var t=void 0;switch(r){case 36346:t=1;break;case 36344:return"Integer"!==n&&"Integer64"!==n&&ne.recordError(1280);case 34814:case 36345:t=0;break;case 34466:var a=Ee.getParameter(34467),t=a?a.length:0;break;case 33309:if(ne.currentContext.version<2)return ne.recordError(1282);t=2*Ee.getSupportedExtensions().length;break;case 33307:case 33308:if(ne.currentContext.version<2)return ne.recordError(1280);t=33307==r?3:0}if(void 0===t){var u=Ee.getParameter(r);switch(_typeof(u)){case"number":t=u;break;case"boolean":t=u?1:0;break;case"string":return ne.recordError(1280);case"object":if(null===u)switch(r){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:t=0;break;default:return ne.recordError(1280)}else{if(u instanceof Float32Array||u instanceof Uint32Array||u instanceof Int32Array||u instanceof Array){for(var i=0;i<u.length;++i)switch(n){case"Integer":h[e+4*i>>2]=u[i];break;case"Float":S[e+4*i>>2]=u[i];break;case"Boolean":A[e+i>>0]=u[i]?1:0;break;default:throw"internal glGet error, bad type: "+n}return}try{t=0|u.name}catch(e){return ne.recordError(1280),o("GL_INVALID_ENUM in glGet"+n+"v: Unknown object returned from WebGL getParameter("+r+")! (error: "+e+")")}}break;default:return ne.recordError(1280)}}switch(n){case"Integer64":tempI64=[t>>>0,(tempDouble=t,1<=+G(tempDouble)?0<tempDouble?(0|H(+V(tempDouble/4294967296),4294967295))>>>0:~~+X((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],h[e>>2]=tempI64[0],h[e+4>>2]=tempI64[1];break;case"Integer":h[e>>2]=t;break;case"Float":S[e>>2]=t;break;case"Boolean":A[e>>0]=t?1:0;break;default:throw"internal glGet error, bad type: "+n}}else ne.recordError(1281)}(e,r,"Integer")},sa:function(e,r,n,t,a){ne.recordError(1282)},ra:function(e,r,n,t){null===(e=Ee.getProgramInfoLog(ne.programs[e]))&&(e="(unknown error)"),0<r&&t?(r=_(e,t,r),n&&(h[n>>2]=r)):n&&(h[n>>2]=0)},w:function(e,r,n){if(n)if(e>=ne.counter)ne.recordError(1281);else{var t=ne.programInfos[e];if(t)if(35716==r){var a=Ee.getProgramInfoLog(ne.programs[e]);h[n>>2]=(a=null===a?"(unknown error)":a).length+1}else if(35719==r)h[n>>2]=t.maxUniformLength;else if(35722==r){if(-1==t.maxAttributeLength){e=ne.programs[e];for(var u=Ee.getProgramParameter(e,35721),i=t.maxAttributeLength=0;i<u;++i){var o=Ee.getActiveAttrib(e,i);t.maxAttributeLength=Math.max(t.maxAttributeLength,o.name.length+1)}}h[n>>2]=t.maxAttributeLength}else if(35381==r){if(-1==t.maxUniformBlockNameLength){e=ne.programs[e];for(var f=Ee.getProgramParameter(e,35382),i=t.maxUniformBlockNameLength=0;i<f;++i){var s=Ee.getActiveUniformBlockName(e,i);t.maxUniformBlockNameLength=Math.max(t.maxUniformBlockNameLength,s.length+1)}}h[n>>2]=t.maxUniformBlockNameLength}else h[n>>2]=Ee.getProgramParameter(ne.programs[e],r);else ne.recordError(1282)}else ne.recordError(1281)},qa:function(e,r,n,t){null===(e=Ee.getShaderInfoLog(ne.shaders[e]))&&(e="(unknown error)"),0<r&&t?(r=_(e,t,r),n&&(h[n>>2]=r)):n&&(h[n>>2]=0)},L:function(e,r,n){var t;n?35716==r?(t=Ee.getShaderInfoLog(ne.shaders[e]),h[n>>2]=(t=null===t?"(unknown error)":t).length+1):35720==r?(t=null===(t=Ee.getShaderSource(ne.shaders[e]))||0==t.length?0:t.length+1,h[n>>2]=t):h[n>>2]=Ee.getShaderParameter(ne.shaders[e],r):ne.recordError(1281)},pa:function(e){if(ne.stringCache[e])return ne.stringCache[e];switch(e){case 7939:for(var r=Ee.getSupportedExtensions(),n=[],t=0;t<r.length;++t)n.push(r[t]),n.push("GL_"+r[t]);i=se(n.join(" "));break;case 7936:case 7937:case 37445:case 37446:var a=Ee.getParameter(e);a||ne.recordError(1280),i=se(a);break;case 7938:var u=Ee.getParameter(Ee.VERSION),i=se(u=2<=ne.currentContext.version?"OpenGL ES 3.0 ("+u+")":"OpenGL ES 2.0 ("+u+")");break;case 35724:a=Ee.getParameter(Ee.SHADING_LANGUAGE_VERSION),u=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==u&&(3==u[1].length&&(u[1]=u[1]+"0"),a="OpenGL ES GLSL ES "+u[1]+" ("+a+")"),i=se(a);break;default:return ne.recordError(1280),0}return ne.stringCache[e]=i},K:function(e,r){return Ee.getUniformBlockIndex(ne.programs[e],E(r))},t:function(e,r){var n,t=0;return"]"==(r=E(r))[r.length-1]&&(n=r.lastIndexOf("["),t="]"!=r[n+1]?parseInt(r.slice(n+1)):0,r=r.slice(0,n)),(r=ne.programInfos[e]&&ne.programInfos[e].uniforms[r])&&0<=t&&t<r[0]?r[1]+t:-1},na:function(e){Ee.linkProgram(ne.programs[e]),ne.populateUniformTable(e)},J:function(e,r){Ee.polygonOffset(e,r)},ma:function(e,r,n,t){ne.recordError(1280)},s:function(e){Ee.readBuffer(e)},la:function(e,r,n,t,a,u,i){ne.currentContext.supportsWebGL2EntryPoints?Ee.currentPixelPackBufferBinding?Ee.readPixels(e,r,n,t,a,u,i):Ee.readPixels(e,r,n,t,a,u,pe(u),i>>(0|de[u])):(i=me(u,a,n,t,i))?Ee.readPixels(e,r,n,t,a,u,i):ne.recordError(1280)},ka:function(e,r,n,t){Ee.renderbufferStorage(e,r,n,t)},I:function(e,r,n,t,a){Ee.renderbufferStorageMultisample(e,r,n,t,a)},H:function(e,r,n,t){Ee.scissor(e,r,n,t)},ja:function(e,r,n,t){t=ne.getSource(e,r,n,t),Ee.shaderSource(ne.shaders[e],t)},ha:function(e,r,n){Ee.stencilFunc(e,r,n)},G:function(e,r,n,t){Ee.stencilFuncSeparate(e,r,n,t)},v:function(e){Ee.stencilMask(e)},ga:function(e,r,n){Ee.stencilOp(e,r,n)},F:function(e,r,n,t){Ee.stencilOpSeparate(e,r,n,t)},fa:function(e,r,n,t,a,u,i,o,f){ne.currentContext.supportsWebGL2EntryPoints?Ee.currentPixelUnpackBufferBinding?Ee.texImage2D(e,r,n,t,a,u,i,o,f):0!=f?Ee.texImage2D(e,r,n,t,a,u,i,o,pe(o),f>>(0|de[o])):Ee.texImage2D(e,r,n,t,a,u,i,o,null):Ee.texImage2D(e,r,n,t,a,u,i,o,f?me(o,i,t,a,f):null)},ea:function(e,r,n,t,a,u,i,o,f,s){Ee.currentPixelUnpackBufferBinding?Ee.texImage3D(e,r,n,t,a,u,i,o,f,s):0!=s?Ee.texImage3D(e,r,n,t,a,u,i,o,f,pe(f),s>>(0|de[f])):Ee.texImage3D(e,r,n,t,a,u,i,o,f,null)},E:function(e,r,n){Ee.texParameterf(e,r,n)},j:function(e,r,n){Ee.texParameteri(e,r,n)},D:function(e,r,n,t,a,u,i,o,f){var s;ne.currentContext.supportsWebGL2EntryPoints?Ee.currentPixelUnpackBufferBinding?Ee.texSubImage2D(e,r,n,t,a,u,i,o,f):0!=f?Ee.texSubImage2D(e,r,n,t,a,u,i,o,pe(o),f>>(0|de[o])):Ee.texSubImage2D(e,r,n,t,a,u,i,o,null):(s=null,f&&(s=me(o,i,a,u,f)),Ee.texSubImage2D(e,r,n,t,a,u,i,o,s))},da:function(e,r,n,t,a,u,i,o,f,s,l){Ee.currentPixelUnpackBufferBinding?Ee.texSubImage3D(e,r,n,t,a,u,i,o,f,s,l):0!=l?Ee.texSubImage3D(e,r,n,t,a,u,i,o,f,s,pe(s),l>>(0|de[s])):Ee.texSubImage3D(e,r,n,t,a,u,i,o,f,s,null)},eb:function(e,r,n){if(ne.currentContext.supportsWebGL2EntryPoints)Ee.uniform1fv(ne.uniforms[e],S,n>>2,r);else{if(r<=ne.MINI_TEMP_BUFFER_SIZE)for(var t=ne.miniTempBufferViews[r-1],a=0;a<r;++a)t[a]=S[n+4*a>>2];else t=S.subarray(n>>2,n+4*r>>2);Ee.uniform1fv(ne.uniforms[e],t)}},ca:function(e,r){Ee.uniform1i(ne.uniforms[e],r)},db:function(e,r,n){if(ne.currentContext.supportsWebGL2EntryPoints)Ee.uniform2fv(ne.uniforms[e],S,n>>2,2*r);else{if(2*r<=ne.MINI_TEMP_BUFFER_SIZE)for(var t=ne.miniTempBufferViews[2*r-1],a=0;a<2*r;a+=2)t[a]=S[n+4*a>>2],t[a+1]=S[n+(4*a+4)>>2];else t=S.subarray(n>>2,n+8*r>>2);Ee.uniform2fv(ne.uniforms[e],t)}},cb:function(e,r,n){if(ne.currentContext.supportsWebGL2EntryPoints)Ee.uniform3fv(ne.uniforms[e],S,n>>2,3*r);else{if(3*r<=ne.MINI_TEMP_BUFFER_SIZE)for(var t=ne.miniTempBufferViews[3*r-1],a=0;a<3*r;a+=3)t[a]=S[n+4*a>>2],t[a+1]=S[n+(4*a+4)>>2],t[a+2]=S[n+(4*a+8)>>2];else t=S.subarray(n>>2,n+12*r>>2);Ee.uniform3fv(ne.uniforms[e],t)}},bb:function(e,r,n){if(ne.currentContext.supportsWebGL2EntryPoints)Ee.uniform4fv(ne.uniforms[e],S,n>>2,4*r);else{if(4*r<=ne.MINI_TEMP_BUFFER_SIZE)for(var t=ne.miniTempBufferViews[4*r-1],a=0;a<4*r;a+=4)t[a]=S[n+4*a>>2],t[a+1]=S[n+(4*a+4)>>2],t[a+2]=S[n+(4*a+8)>>2],t[a+3]=S[n+(4*a+12)>>2];else t=S.subarray(n>>2,n+16*r>>2);Ee.uniform4fv(ne.uniforms[e],t)}},ba:function(e,r,n){e=ne.programs[e],Ee.uniformBlockBinding(e,r,n)},ab:function(e,r,n,t){if(ne.currentContext.supportsWebGL2EntryPoints)Ee.uniformMatrix4fv(ne.uniforms[e],!!n,S,t>>2,16*r);else{if(16*r<=ne.MINI_TEMP_BUFFER_SIZE)for(var a=ne.miniTempBufferViews[16*r-1],u=0;u<16*r;u+=16)a[u]=S[t+4*u>>2],a[u+1]=S[t+(4*u+4)>>2],a[u+2]=S[t+(4*u+8)>>2],a[u+3]=S[t+(4*u+12)>>2],a[u+4]=S[t+(4*u+16)>>2],a[u+5]=S[t+(4*u+20)>>2],a[u+6]=S[t+(4*u+24)>>2],a[u+7]=S[t+(4*u+28)>>2],a[u+8]=S[t+(4*u+32)>>2],a[u+9]=S[t+(4*u+36)>>2],a[u+10]=S[t+(4*u+40)>>2],a[u+11]=S[t+(4*u+44)>>2],a[u+12]=S[t+(4*u+48)>>2],a[u+13]=S[t+(4*u+52)>>2],a[u+14]=S[t+(4*u+56)>>2],a[u+15]=S[t+(4*u+60)>>2];else a=S.subarray(t>>2,t+64*r>>2);Ee.uniformMatrix4fv(ne.uniforms[e],!!n,a)}},$a:function(e){Ee.useProgram(ne.programs[e])},_a:function(e,r){Ee.vertexAttribDivisor(e,r)},Ya:function(e,r,n,t,a,u){Ee.vertexAttribPointer(e,r,n,!!t,a,u)},aa:function(e,r,n,t){Ee.viewport(e,r,n,t)},Xa:function(){return 0},Wa:function(e){Re("OOM")},a:11840},O=i.asm({},O,y);i.asm=O;var be=i.__GLOBAL__sub_I_gfx_emsc_cc=function(){return i.asm.hb.apply(null,arguments)},ge=(i.___errno_location=function(){return i.asm.ib.apply(null,arguments)},i._applyBindings=function(){return i.asm.jb.apply(null,arguments)},i._applyPipeline=function(){return i.asm.kb.apply(null,arguments)},i._applyScissorRect=function(){return i.asm.lb.apply(null,arguments)},i._applyUniformBlock=function(){return i.asm.mb.apply(null,arguments)},i._applyUniforms=function(){return i.asm.nb.apply(null,arguments)},i._applyViewport=function(){return i.asm.ob.apply(null,arguments)},i._beginDefaultPass=function(){return i.asm.pb.apply(null,arguments)},i._beginPass=function(){return i.asm.qb.apply(null,arguments)},i._commit=function(){return i.asm.rb.apply(null,arguments)},i._createNativeBuffer=function(){return i.asm.sb.apply(null,arguments)},i._deleteNativeBuffer=function(){return i.asm.tb.apply(null,arguments)},i._destroyBuffer=function(){return i.asm.ub.apply(null,arguments)},i._destroyImage=function(){return i.asm.vb.apply(null,arguments)},i._destroyPass=function(){return i.asm.wb.apply(null,arguments)},i._destroyPipeline=function(){return i.asm.xb.apply(null,arguments)},i._destroyShader=function(){return i.asm.yb.apply(null,arguments)},i._draw=function(){return i.asm.zb.apply(null,arguments)},i._endPass=function(){return i.asm.Ab.apply(null,arguments)},i._free=function(){return i.asm.Bb.apply(null,arguments)}),ye=(i._getBufferString=function(){return i.asm.Cb.apply(null,arguments)},i._main=function(){return i.asm.Db.apply(null,arguments)},i._makeBuffer=function(){return i.asm.Eb.apply(null,arguments)},i._makeImage=function(){return i.asm.Fb.apply(null,arguments)},i._makePass=function(){return i.asm.Gb.apply(null,arguments)},i._makePipeline=function(){return i.asm.Hb.apply(null,arguments)},i._makeShader=function(){return i.asm.Ib.apply(null,arguments)},i._malloc=function(){return i.asm.Jb.apply(null,arguments)}),Ae=(i._queryBackend=function(){return i.asm.Kb.apply(null,arguments)},i._queryBufferState=function(){return i.asm.Lb.apply(null,arguments)},i._queryFeature=function(){return i.asm.Mb.apply(null,arguments)},i._queryImageState=function(){return i.asm.Nb.apply(null,arguments)},i._queryPassState=function(){return i.asm.Ob.apply(null,arguments)},i._queryPipelineState=function(){return i.asm.Pb.apply(null,arguments)},i._queryShaderBinary=function(){return i.asm.Qb.apply(null,arguments)},i._queryShaderState=function(){return i.asm.Rb.apply(null,arguments)},i._readPixels=function(){return i.asm.Sb.apply(null,arguments)},i._setupGfx=function(){return i.asm.Tb.apply(null,arguments)},i._updateBuffer=function(){return i.asm.Ub.apply(null,arguments)},i._updateImage=function(){return i.asm.Vb.apply(null,arguments)},i.stackAlloc=function(){return i.asm.Yb.apply(null,arguments)}),ve=i.stackRestore=function(){return i.asm.Zb.apply(null,arguments)},Te=i.stackSave=function(){return i.asm._b.apply(null,arguments)};i.dynCall_v=function(){return i.asm.Wb.apply(null,arguments)},i.dynCall_vi=function(){return i.asm.Xb.apply(null,arguments)};function Ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}i.asm=O,i.ccall=l,i.cwrap=function(e,r,n,t){var a=(n=n||[]).every(function(e){return"number"===e});return"string"!==r&&a&&!t?c(e):function(){return l(e,r,n,arguments)}},i.then=function(e){var r;return i.calledRun?e(i):(r=i.onRuntimeInitialized,i.onRuntimeInitialized=function(){r&&r(),e(i)}),i},(Ie.prototype=new Error).constructor=Ie;function he(e){function r(){i.calledRun||(i.calledRun=!0,f||(D(),B(N),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i._main&&Se&&i.callMain(e),k()))}e=e||i.arguments,0<W||(U(),0<W||i.calledRun||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),r()},1)):r()))}function Re(e){throw i.onAbort&&i.onAbort(e),e=void 0!==e?(t(e),o(e),JSON.stringify(e)):"",f=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(j=function e(){i.calledRun||he(),i.calledRun||(j=e)},i.callMain=function(e){e=e||[],D();var r=e.length+1,n=Ae(4*(r+1));h[n>>2]=g(i.thisProgram);for(var t=1;t<r;t++)h[(n>>2)+t]=g(e[t-1]);h[(n>>2)+r]=0;try{var a=i._main(r,n,0);u=a,!0&&i.noExitRuntime&&0===u||(i.noExitRuntime||(f=!0,i.onExit&&i.onExit(u)),i.quit(u,new Ie(u)))}catch(e){if(e instanceof Ie)return;if("SimulateInfiniteLoop"==e)return void(i.noExitRuntime=!0);var u=e;e&&"object"===_typeof(e)&&e.stack&&(u=[e,e.stack]),o("exception thrown: "+u),i.quit(1,e)}},i.run=he,i.abort=Re,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();var Se=!0;return i.noInitialRun&&(Se=!1),i.noExitRuntime=!0,he(),i});return"object"===_typeof(e)&&"object"===_typeof(n)?n.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):"object"===_typeof(e)&&(e.Module=t),function(){return t().then(function(e){return window.DEVTOOL_WASM_MODULE=e,r(),e})}}();